<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>System Design</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,600;1,700&family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Raleway:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: Nova
  * Updated: Jan 09 2024 with Bootstrap v5.3.2
  * Template URL: https://bootstrapmade.com/nova-bootstrap-business-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="page-blog">

  <!-- ======= Header ======= -->
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl d-flex align-items-center justify-content-between">

      <a href="index.html" class="logo d-flex align-items-center">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <!-- <img src="assets/img/logo.png" alt=""> -->
        <h1 class="d-flex align-items-center">Anima v3</h1>
      </a>

      <i class="mobile-nav-toggle mobile-nav-show bi bi-list"></i>
      <i class="mobile-nav-toggle mobile-nav-hide d-none bi bi-x"></i>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a href="index.html" class="active">Home</a></li>
          <li><a href="requirements.html">Requirements</a></li>
          <li class="dropdown"><a href="#"><span>Research</span> <i class="bi bi-chevron-down dropdown-indicator"></i></a>
            <ul>
              <li><a href="research.html">Research Overview</a></li>
              <li><a href="nuitka.html">Nuitka Compilation Issues</a></li>
              <li><a href="pyinstaller.html">Pyinstaller Compilation Issues</a></li>
              <li><a href="pyoxidizer.html">Successful Complilation with PyOxidizer</a></li>
            </ul>
          </li>
          <li><a href="ui-design.html">User Interface Design</a></li>
          <li><a href="system-design.html">System Design</a></li>
          <li><a href="implementation.html">Implementation</a></li>
          <li><a href="testing.html">Testing</a></li>
          <li><a href="evaluation.html">Evaluation</a></li>
          <li class="dropdown"><a href="#"><span>Appendicies</span> <i class="bi bi-chevron-down dropdown-indicator"></i></a>
            <ul>
              <li><a href="manuals.html">User Manual and Deployment Manual</a></li>
              <li><a href="legal.html">GDPR and Privacy of Data</a></li>
              <li><a href="blog.html">Development Blog</a></li>
              <li><a href="videos.html">Monthly Progress Updates</a></li>
            </ul>
          </li>
        </ul>
      </nav><!-- .navbar -->


    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs d-flex align-items-center" style="background-image: url('assets/img/pyoxidizer/pyoxidizer-header.avif');">
      <div class="container position-relative d-flex flex-column align-items-center">

        <h2>Successful Complilation With PyOxidizer</h2>
        <ol>
          <li><a href="index.html">Home</a></li>
          <li>Successful Complilation With PyOxidizer</li>
        </ol>

      </div>
    </div><!-- End Breadcrumbs -->

    <!-- ======= Blog Details Section ======= -->
    <section id="blog" class="blog">
      <div class="container" data-aos="fade-up">
        <div class="row g-5">
          <div class="col-lg-8" data-aos="fade-up" data-aos-delay="200">

            <div class="post-img" style="max-height: 100px; max-width: 150px; margin: 0 auto; display: block;">
              <img src="assets/img/pyoxidizer/rust.png" alt="" class="img-fluid">
            </div>
            

            <article class="blog-details">
              
                <div class="content">
                  <h1 class="title">What is PyOxidizer</h1>

                  <!-- <h3 style="text-align: center;"><strong></strong></h3> -->
                  <p style="text-align: center;">
                    Pyoxidizer is a tool programmed by Rust, for packaging and distributing Python applications. 
                    <br>
                    It uses Rust source file to build a pyembed crate, 
                    and this crate calls PyOxidizer to process a PyOxidizer configuration file to obtain a specially-built Python distribution. 
                    <br>
                    Meanwhile, this distribution would be used to package Python itself and relevant dependencies. 
                    <br>
                    Basically, the executable file generated by PyOxidizer is an embedded Python interpreter, 
                    and all required dependencies of the project would also be packaged to the same directory for calling out.
                  </p>

              </article><!-- End blog post -->
            </div>
        </div>
      </div>

      <div class="container" data-aos="fade-up">
        <div class="row g-5">
          <div class="col-lg-8" data-aos="fade-up" data-aos-delay="200">
            <article class="blog-details">
              
              <div class="content">
                <h1 class="title">Issue 1: Memory loading error</h1>

                <h3><strong>The Issue</strong></h3>
                <p>
                  When we tried to package required dependencies, dependencies had to be installed again via PyOxidizer then packaged. However, some modules needed memory loading, which caused this error. 
                </p>
              </div>

              <div>
                <img src="assets/img/pyoxidizer/memory.png" alt="" class="img-fluid">
              </div>

              <div class="content">
                <h3><strong>How We Resolved It</strong></h3>
                <p>
                  This error could be resolved by simply enabling the PyOxidizer setting of including distribution resources.
                </p>
                
              </div>

            </article><!-- End blog post -->
          </div>
        </div>
      </div>

      <div class="container" data-aos="fade-up">
        <div class="row g-5">
            <div class="col-lg-8" data-aos="fade-up" data-aos-delay="200">
                <article class="blog-details">
                    <div class="content">
                        <h1 class="title">Issue 2: Python ‘__file__’ system error</h1>
    
                        <h3><strong>The Issue</strong></h3>
                        <p>
                            Many popular libraries all used ‘__file__’ to derive the filesystem path, such as Numpy, PyTorch, Pandas, Matplotlib, and SciPy. However, PyOxidizer does not import Python libraries from the filesystem, which means that the variable value of ‘__file__ ‘ cannot be found in PyOxidizer and all such dependencies would not work normally. 
                        </p>
                    </div>
    
                    <div class="row">
                        <div class="col-md-4">
                            <img src="assets/img/pyoxidizer/file1.png" alt="" class="img-fluid">
                        </div>
                        <div class="col-md-4">
                            <img src="assets/img/pyoxidizer/file2.png" alt="" class="img-fluid">
                        </div>
                        <div class="col-md-4">
                            <img src="assets/img/pyoxidizer/file3.png" alt="" class="img-fluid">
                        </div>
                        <div class="col-md-4">
                            <img src="assets/img/pyoxidizer/file4.png" alt="" class="img-fluid">
                        </div>
                        <div class="col-md-4">
                            <img src="assets/img/pyoxidizer/file5.png" alt="" class="img-fluid">
                        </div>
                    </div>

                    <div>
                      <img src="assets/img/pyoxidizer/file6.png" alt="" class="img-fluid">
                    </div>

                    <div class="content">
                      <p>
                        The above issue is actually caused by the use of ‘__file__’. Because Python development has historically relied on filesystem-based imports, most developers would use it to locate and load files. However, the existence of ‘__file__’ should not be assumed, which is an optional attribute in Python. This assumption would break the flexibility and utility of the large Python ecosystem.
                      </p>
                    </div>
                    
                    <div class="row">
                      <div class="col-md-4">
                          <img src="assets/img/pyoxidizer/file7.png" alt="" class="img-fluid">
                      </div>
                      <div class="col-md-4">
                          <img src="assets/img/pyoxidizer/file8.png" alt="" class="img-fluid">
                      </div>
                    </div>

                    <div class="content">
                        <h3><strong>How We Resolved It</strong></h3>
                        <p>
                          By looking at a bunch of github issues, it is noticed that many developers also reflect the similar issues of ‘__file__’. In 2020, the author provided a new file mode for packaging complex libraries like NumPy, and the issue was resolved.
                        </p>
                    </div>
                </article><!-- End blog post -->
            </div>
        </div>
    </div>

    <div class="container" data-aos="fade-up">
      <div class="row g-5">
        <div class="col-lg-8" data-aos="fade-up" data-aos-delay="200">
          <article class="blog-details">
            
            <div class="content">
              <h1 class="title">Issue 3: DLL load error</h1>

              <h3><strong>The Issue</strong></h3>
              <p>
                The compilation in the Unix system had no problem, and the executable file works normally. However, while trying to do the same compilation in the Windows system,  the DLL load error occurred. This is because PyOxidizer did not copy all DLL dependencies from libraries, which is a bug of PyOxidizer.
              </p>
            </div>

            <div>
              <img src="assets/img/pyoxidizer/dll.png" alt="" class="img-fluid">
            </div>

            <div class="content">
              <h3><strong>How We Resolved It</strong></h3>
              <p>
                This error could be resolved by manually copying the missing DLLs to the build.
              </p>
              
            </div>

          </article><!-- End blog post -->
        </div>
      </div>
    </div>

    <div class="container" data-aos="fade-up">
      <div class="row g-5">
        <div class="col-lg-8" data-aos="fade-up" data-aos-delay="200">
          <article class="blog-details">
            
            <div class="content">
              <h1 class="title">Conclusion</h1>

              <h3><strong>The Compilation Was Successful</strong></h3>
              <p>
                After many days and numerous attempts with various tools and software, the compilation problem of Anima has been successfully resolved. PyOxidizer(written by Rust language) can be utilised to successfully compile the project. In this process, some complex modules like pytorch and scipy are not easy to compile. The compilation complexity on this level is not just compiling a language to another language. The generated executable has been tested in Unix/Windows system without the installation of Python, and they both work normally.
              </p>
            </div>

          </article><!-- End blog post -->
        </div>
      </div>
    </div>

    </section><!-- End Blog Details Section -->

  </main><!-- End #main -->

<!-- ======= Footer ======= -->
  <footer id="footer" class="footer">

    <div class="footer-content">
      <div class="container">
        <div class="row gy-4">
          <div class="col-lg-5 col-md-12 footer-info">
            <a href="index.html" class="logo d-flex align-items-center">
              <span>Anima v3</span>
            </a>
            <p>A software that preserves the person's voice so that even when their natural voice is lost, their sense of self is not.</p>
            <br>
            <p>This is our project website for Anima v3.</p>
            <br>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-content">
      <div class="row" data-aos="zoom-in">
        <div class="d-flex justify-content-between align-items-center w-10">
          <p><strong>Our Project Partners: </strong></p>
          <a href="https://www.ucl.ac.uk/"><img src="assets/img/ucl.png" class="larger-image" alt=""></a>
          <a href="https://www.gosh.nhs.uk/"><img src="assets/img/gosh.png" class="larger-image" alt=""></a>
          <a href="https://www.als-mnd.org/"><img src="assets/img/als.png" class="larger-image" alt=""></a>

          <p><strong>With Support From: </strong></p>
          <a href="https://www.intel.com/" title="With Support From"><img src="assets/img/intel.png" class="larger-image" alt=""></a>
        </div>
      </div>
    </div>

    <div class="footer-legal">
      <div class="container">
        <p>Bootstrap template details:</p>
        <div class="copyright">
          &copy; Copyright <strong><span>Nova</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/nova-bootstrap-business-template/ -->
          Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
        </div>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>